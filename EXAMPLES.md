# üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è Python –±–æ—Ç–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã

\`\`\`python
# handlers/exams.py
from aiogram import Router, F
from aiogram.filters import Command
from aiogram.types import Message
from keyboards.inline import get_back_button

router = Router()

@router.message(Command("exams"))
async def cmd_exams(message: Message):
    """–ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —ç–∫–∑–∞–º–µ–Ω–æ–≤"""
    exams_text = (
        "üìù <b>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —ç–∫–∑–∞–º–µ–Ω–æ–≤</b>\n\n"
        "15 —è–Ω–≤–∞—Ä—è - –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑\n"
        "18 —è–Ω–≤–∞—Ä—è - –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ\n"
        "22 —è–Ω–≤–∞—Ä—è - –§–∏–∑–∏–∫–∞\n"
    )
    
    await message.answer(
        exams_text,
        reply_markup=get_back_button(),
        parse_mode="HTML"
    )
\`\`\`

–ù–µ –∑–∞–±—É–¥—å—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `main.py`:
\`\`\`python
from handlers import exams

dp.include_router(exams.router)
\`\`\`

### –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

\`\`\`python
# handlers/admin.py
from aiogram import Router
from aiogram.filters import Command
from aiogram.types import Message
from config import ADMIN_ID

router = Router()

# –°–ø–∏—Å–æ–∫ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ - –∏–∑ –ë–î)
user_ids = [123456789, 987654321]

@router.message(Command("notify"))
async def cmd_notify(message: Message):
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ–º (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)"""
    if message.from_user.id != ADMIN_ID:
        await message.answer("‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω")
        return
    
    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã
    text = message.text.replace("/notify", "").strip()
    
    if not text:
        await message.answer("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /notify <—Ç–µ–∫—Å—Ç>")
        return
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤—Å–µ–º
    success = 0
    for user_id in user_ids:
        try:
            await message.bot.send_message(user_id, f"üì¢ {text}")
            success += 1
        except Exception:
            pass
    
    await message.answer(f"‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ {success} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º")
\`\`\`

### –†–∞–±–æ—Ç–∞ —Å inline –∫–Ω–æ–ø–∫–∞–º–∏

\`\`\`python
# keyboards/inline.py
from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton

def get_schedule_keyboard():
    """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–Ω—è –Ω–µ–¥–µ–ª–∏"""
    keyboard = InlineKeyboardMarkup(inline_keyboard=[
        [
            InlineKeyboardButton(text="–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", callback_data="day_monday"),
            InlineKeyboardButton(text="–í—Ç–æ—Ä–Ω–∏–∫", callback_data="day_tuesday"),
        ],
        [
            InlineKeyboardButton(text="–°—Ä–µ–¥–∞", callback_data="day_wednesday"),
            InlineKeyboardButton(text="–ß–µ—Ç–≤–µ—Ä–≥", callback_data="day_thursday"),
        ],
        [
            InlineKeyboardButton(text="–ü—è—Ç–Ω–∏—Ü–∞", callback_data="day_friday"),
        ],
        [
            InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥", callback_data="back_to_menu"),
        ]
    ])
    return keyboard

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ callback
@router.callback_query(F.data.startswith("day_"))
async def show_day_schedule(callback: CallbackQuery):
    day = callback.data.replace("day_", "")
    # –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–Ω—è
    await callback.message.edit_text(f"–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ {day}")
\`\`\`

## –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –¥–∞–Ω–Ω—ã–º–∏

\`\`\`tsx
// app/teachers/page.tsx
import { BackButton } from '@/components/back-button'

const teachers = [
  { id: 1, name: '–ò–≤–∞–Ω–æ–≤ –ò.–ò.', subject: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', email: 'ivanov@uni.edu' },
  { id: 2, name: '–ü–µ—Ç—Ä–æ–≤ –ü.–ü.', subject: '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ', email: 'petrov@uni.edu' },
]

export default function TeachersPage() {
  return (
    <main className="min-h-screen p-4 pb-8">
      <div className="max-w-2xl mx-auto">
        <BackButton />
        
        <h1 className="text-3xl font-bold mb-6">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</h1>
        
        <div className="space-y-4">
          {teachers.map((teacher) => (
            <div key={teacher.id} className="bg-card border border-border rounded-xl p-5">
              <h3 className="font-semibold text-lg mb-1">{teacher.name}</h3>
              <p className="text-sm text-muted-foreground mb-2">{teacher.subject}</p>
              <a href={`mailto:${teacher.email}`} className="text-sm text-primary">
                {teacher.email}
              </a>
            </div>
          ))}
        </div>
      </div>
    </main>
  )
}
\`\`\`

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

\`\`\`tsx
// components/subject-card.tsx
import { ReactNode } from 'react'

interface SubjectCardProps {
  name: string
  teacher: string
  room: string
  time: string
  icon?: ReactNode
}

export function SubjectCard({ name, teacher, room, time, icon }: SubjectCardProps) {
  return (
    <div className="bg-card border border-border rounded-xl p-4 hover:border-primary/50 transition-colors">
      <div className="flex items-start gap-3">
        {icon && (
          <div className="flex-shrink-0 rounded-lg p-2 bg-primary/10 text-primary">
            {icon}
          </div>
        )}
        
        <div className="flex-1 min-w-0">
          <h3 className="font-semibold mb-1">{name}</h3>
          <div className="text-sm text-muted-foreground space-y-1">
            <p>üë®‚Äçüè´ {teacher}</p>
            <p>üö™ {room}</p>
            <p>üïê {time}</p>
          </div>
        </div>
      </div>
    </div>
  )
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
import { SubjectCard } from '@/components/subject-card'
import { BookOpen } from 'lucide-react'

<SubjectCard
  name="–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"
  teacher="–ü–µ—Ç—Ä–æ–≤ –ü.–ü."
  room="–ê—É–¥. 205"
  time="10:45 - 12:15"
  icon={<BookOpen className="w-5 h-5" />}
/>
\`\`\`

### API Route –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

\`\`\`typescript
// app/api/schedule/route.ts
import { NextResponse } from 'next/server'

const scheduleData = {
  monday: [
    { time: '09:00', subject: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', room: '301' },
    { time: '10:45', subject: '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ', room: '205' },
  ],
  tuesday: [
    { time: '09:00', subject: '–§–∏–∑–∏–∫–∞', room: '401' },
  ],
}

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url)
  const day = searchParams.get('day') || 'monday'
  
  return NextResponse.json({
    day,
    classes: scheduleData[day as keyof typeof scheduleData] || []
  })
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:
'use client'
import { useEffect, useState } from 'react'

export function ScheduleList() {
  const [schedule, setSchedule] = useState([])
  
  useEffect(() => {
    fetch('/api/schedule?day=monday')
      .then(res => res.json())
      .then(data => setSchedule(data.classes))
  }, [])
  
  return (
    <div>
      {schedule.map((item, i) => (
        <div key={i}>{item.subject}</div>
      ))}
    </div>
  )
}
\`\`\`

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Telegram Web App API

\`\`\`typescript
// lib/telegram-utils.ts
import { telegram } from './telegram'

// –ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
export function showMainButton(text: string, onClick: () => void) {
  if (telegram) {
    telegram.MainButton.text = text
    telegram.MainButton.show()
    telegram.MainButton.onClick(onClick)
  }
}

// –°–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
export function hideMainButton() {
  if (telegram) {
    telegram.MainButton.hide()
  }
}

// –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
export function closeApp() {
  if (telegram) {
    telegram.close()
  }
}

// –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
export function showBackButton(onClick: () => void) {
  if (telegram) {
    telegram.BackButton.show()
    telegram.BackButton.onClick(onClick)
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:
'use client'
import { useEffect } from 'react'
import { showMainButton, hideMainButton } from '@/lib/telegram-utils'

export function SubmitForm() {
  useEffect(() => {
    showMainButton('–û—Ç–ø—Ä–∞–≤–∏—Ç—å', () => {
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
      console.log('–§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞')
    })
    
    return () => hideMainButton()
  }, [])
  
  return <form>{/* –ü–æ–ª—è —Ñ–æ—Ä–º—ã */}</form>
}
\`\`\`

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase

\`\`\`typescript
// lib/supabase.ts
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!
const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!

export const supabase = createClient(supabaseUrl, supabaseKey)

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏–∑ –ë–î
export async function getSchedule(day: string) {
  const { data, error } = await supabase
    .from('schedule')
    .select('*')
    .eq('day', day)
    .order('time')
  
  if (error) throw error
  return data
}

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
export async function addHomework(homework: {
  subject: string
  title: string
  description: string
  deadline: string
}) {
  const { data, error } = await supabase
    .from('homework')
    .insert([homework])
  
  if (error) throw error
  return data
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:
'use client'
import { useEffect, useState } from 'react'
import { getSchedule } from '@/lib/supabase'

export function ScheduleFromDB() {
  const [schedule, setSchedule] = useState([])
  
  useEffect(() => {
    getSchedule('monday').then(setSchedule)
  }, [])
  
  return (
    <div>
      {schedule.map((item: any) => (
        <div key={item.id}>{item.subject}</div>
      ))}
    </div>
  )
}
\`\`\`

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å–Ω–∏–ø–ø–µ—Ç—ã

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º

\`\`\`typescript
export function formatDate(dateString: string) {
  const date = new Date(dateString)
  return date.toLocaleDateString('ru-RU', {
    day: 'numeric',
    month: 'long',
    year: 'numeric'
  })
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
formatDate('2025-10-05') // "5 –æ–∫—Ç—è–±—Ä—è 2025 –≥."
\`\`\`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–¥–ª–∞–π–Ω–∞

\`\`\`typescript
export function isDeadlineSoon(deadline: string, daysThreshold = 3) {
  const deadlineDate = new Date(deadline)
  const today = new Date()
  const diffTime = deadlineDate.getTime() - today.getTime()
  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))
  
  return diffDays <= daysThreshold && diffDays >= 0
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
if (isDeadlineSoon(homework.deadline)) {
  // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
}
\`\`\`

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É

\`\`\`typescript
const priorityOrder = { high: 0, medium: 1, low: 2 }

const sortedHomework = homework.sort((a, b) => 
  priorityOrder[a.priority] - priorityOrder[b.priority]
)
